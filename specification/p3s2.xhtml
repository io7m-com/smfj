<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>com.io7m.smfj 0.14.0 Specification: 3.2. Header</title><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="kstructural-layout.css"/><link rel="stylesheet" type="text/css" href="kstructural-colour.css"/><link rel="stylesheet" type="text/css" href="specification.css"/></head><body><div class="st300_body"><div class="st300_navbar st300_navbar_top"><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_title_cell">3.1. Overview</td><td class="st300_navbar_up_title_cell">3. SMF/B - Binary Encoding</td><td class="st300_navbar_next_title_cell">3.3. Sections</td></tr><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p3s1.xhtml#st300_p3s1" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p3.xhtml#st300_p3" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p3s3.xhtml#st300_p3s3" title="Go to next page">Next</a></td></tr></table><hr class="st300_hr"/></div><div class="st300_section_container"><a id="smfb.header"/><div class="st300_section_title_number"><a id="st300_p3s2" href="#st300_p3s2" title="Section 3.2: Header">3.2</a></div><div class="st300_section_title">Header</div><span/><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p3s2c1" href="#st300_p3s2c1" title="Paragraph 3.2.1">1</a></div><div class="st300_paragraph">An <span class="st300_term type">SMF/B</span> file begins with the following fixed-size structure:</div></div><div class="st300_formal_item"><a id="smfb.header.def"/><div class="st300_formal_item_title"><a id="st300_p3s2c2" href="#st300_p3s2c2" title="Formal item 3.2.2: SMF/B Header">3.2.2 SMF/B Header</a></div><div class="st300_formal_item_content"><pre class="st300_verbatim">[record SMFBHeaderStart
  ([field magic           [integer unsigned 64]]
   [field version_major   [integer unsigned 32]]
   [field version_minor   [integer unsigned 32]])]
</pre></div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p3s2c3" href="#st300_p3s2c3" title="Paragraph 3.2.3">3</a></div><div class="st300_paragraph">The value of the <span class="st300_term field">magic</span> field MUST be <span class="st300_term constant">0x89534D460D0A1A0A</span>. Implementations MUST immediately reject any files that do not begin with this magic number. The derivation of this constant is taken almost verbatim from the PNG <span class="st300_footnote_reference">[<a href="p3s2.xhtml#st300_f_2035_0" id="st300_fr_2020" title="Jump to footnote smfb.png (reference 0)">2</a>]</span> file format with the characters <span class="st300_term constant">PNG</span> changed to <span class="st300_term constant">SMF</span>.</div></div><div class="st300_paragraph_container"><div class="st300_paragraph_number"><a id="st300_p3s2c4" href="#st300_p3s2c4" title="Paragraph 3.2.4">4</a></div><div class="st300_paragraph">The <span class="st300_term field">version_major</span> field specifies the <a class="st300_link" href="p2s2.xhtml#smf_model.versioning">major</a> version number of the specification to which the data in the file is expected to conform. The <span class="st300_term field">version_minor</span> field specifies the <a class="st300_link" href="p2s2.xhtml#smf_model.versioning">minor</a> version number of the specification to which the data in the file is expected to conform.</div></div><div class="st300_footnotes"><hr/><div class="st300_footnote_container"><div class="st300_footnote_id">[<a id="st300_f_2035_0" href="p3s2.xhtml#st300_fr_2020" title="Jump back to reference 0 of footnote smfb.png">2</a>]</div><div class="st300_footnote_body"><a class="st300_link_external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header">https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header</a></div></div></div></div><div class="st300_navbar st300_navbar_bottom"><hr class="st300_hr"/><table class="st300_navbar_table" summary="st300_Navigation bar"><tr><td class="st300_navbar_prev_file_cell"><a rel="previous" href="p3s1.xhtml#st300_p3s1" title="Go to previous page">Previous</a></td><td class="st300_navbar_up_file_cell"><a rel="up" href="p3.xhtml#st300_p3" title="Go to parent page">Up</a></td><td class="st300_navbar_next_file_cell"><a rel="next" href="p3s3.xhtml#st300_p3s3" title="Go to next page">Next</a></td></tr><tr><td class="st300_navbar_prev_title_cell">3.1. Overview</td><td class="st300_navbar_up_title_cell">3. SMF/B - Binary Encoding</td><td class="st300_navbar_next_title_cell">3.3. Sections</td></tr></table></div></div></body></html>
